/**
 * Macro-structure
 * ===============
 */

.body,
.footer { position: absolute; }


/**
 * Zone de composition principale
 * ------------------------------
 */

.body {
    top: @page-margin-top;
    bottom: @page-margin-bottom;
}

/* TODO: move into grid.less? */
.bloc { position: absolute; }
.debug .header,
.debug .footer,
.debug .body,
.debug .bloc { outline: 1px solid purple; }

/**
 * Pieds de page
 * -------------
 */

.header,
.footer { 
    bottom: @page-margin-bottom; 
    font-family: "Belgika8th", sans-serif;
    font-size: 6pt;
    letter-spacing: 0.25pt;
    text-align: center;
}

.header:before,
.footer:before,
.footer:after {
    display: block;
}

.header:before { content: "Type d'article — Titre de l'article"; } 
.footer:before { content: "Médor n°1 —  printemps 2015"; }
.footer:after  { content: counter(page-counter); }


/**
 * Miroir
 * -------
 */

/**
 * Placement en miroir des éléments en fonction de si ils se trouvent sur une
 * page paire ou une page impaire, en utilisant le pseudo-sélecteur `nth-child`
 */

.paper:nth-child(odd) .body,
.paper:nth-child(odd) .footer {
    right: @page-margin-outside;
    left: @page-margin-inside;
}

.paper:nth-child(even) .body,
.paper:nth-child(even) .footer {
    left: @page-margin-outside;
    right: @page-margin-inside;
}

.paper:nth-child(odd) .footer:before { margin-right: @col-gutter; }
.paper:nth-child(odd) .footer:after { margin-left: @col-gutter; }
.paper:nth-child(even) .footer:after { margin-right: @col-gutter; }
.paper:nth-child(even) .footer:before { margin-left: @col-gutter; }

.paper:nth-child(odd) .footer__title { margin-right: @col-gutter; }
.paper:nth-child(even) .footer__title { text-align: right; }

.paper:nth-child(even) .footer__page-number { margin-right: @col-gutter; }
.paper:nth-child(odd) .footer__page-number { text-align: right; }
